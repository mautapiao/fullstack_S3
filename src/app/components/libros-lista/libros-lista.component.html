<!-- ============================================================
     ğŸ“˜ Semana 3 - Listado de Libros (GET todos)
     ------------------------------------------------------------
     - Muestra los libros obtenidos desde el backend.
     - Incluye acciones: Crear, Editar, Eliminar, Ver.
     - Se aplican estilos Bootstrap para tabla y botones.
     - Compatible con Angular 17 + Vite.
     ============================================================ -->

<div class="container mt-4">

  <!-- TÃ­tulo -->
  <h2 class="mb-3 text-center">ğŸ“š GestiÃ³n de Libros</h2>

  <!-- Indicadores de carga / error -->
  <div *ngIf="loading" class="alert alert-info text-center">
    Cargando libros...
  </div>

  <div *ngIf="error" class="alert alert-danger text-center">
    {{ error }}
  </div>

  <!-- BotÃ³n de nuevo libro -->
  <div class="d-flex justify-content-end mb-3">
    <a routerLink="/libros/nuevo" class="btn btn-success">
      â• Nuevo Libro
    </a>
  </div>

  <!-- Tabla de libros -->
  <table *ngIf="!loading && !error && libros.length > 0" class="table table-striped table-bordered table-hover shadow-sm">
    <thead class="table-light">
      <tr>
        <th scope="col"># ID</th>
        <th scope="col">TÃ­tulo</th>
        <th scope="col">Autor</th>
        <th scope="col">GÃ©nero</th>
        <th scope="col">AÃ±o PublicaciÃ³n</th>
        <th scope="col" class="text-center">Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let libro of libros; let i = index">
        <td class="align-middle text-center fw-semibold">{{ i + 1 }}</td>
        <td class="align-middle">
          <a [routerLink]="['/libros/editar', libro.id]" class="text-decoration-none fw-semibold">
            {{ libro.titulo }}
          </a>
        </td>
        <td class="align-middle">{{ libro.autor }}</td>
        <td class="align-middle">{{ libro.genero }}</td>
        <td class="align-middle">{{ libro.anioPublicacion }}</td>
        <td class="align-middle text-center">
          <!-- Botones de acciÃ³n -->
          <a [routerLink]="['/libros/editar', libro.id]" class="btn btn-sm btn-outline-secondary me-1">
            âœï¸ Editar
          </a>
          <button (click)="eliminar(libro.id)" class="btn btn-sm btn-outline-danger">
            ğŸ—‘ï¸ Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Mensaje si no hay libros -->
  <div *ngIf="!loading && !error && libros.length === 0" class="alert alert-secondary text-center">
    No hay libros registrados en la base de datos.
  </div>
</div>

